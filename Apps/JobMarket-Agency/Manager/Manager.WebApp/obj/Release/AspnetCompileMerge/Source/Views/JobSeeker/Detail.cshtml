@using Manager.WebApp.Resources
@model Manager.WebApp.Models.JobSeekerUpdateProfileModel

@{
    var title = ManagerResource.LB_JOB_SEEKER_DETAIL + ": " + Model.fullname;
    ViewBag.Title = title;

    var profileTkLink = SecurityHelper.GenerateSecureLink("JobSeeker", "MyProfilePartialDetail", new { id = Model.job_seeker_id, exclude_ct_add = 0 });
    var eduTkLink = SecurityHelper.GenerateSecureLink("JobSeeker", "EduHistories", new { id = Model.job_seeker_id, is_detail = 1 });
    var workTkLink = SecurityHelper.GenerateSecureLink("JobSeeker", "WorkHistories", new { id = Model.job_seeker_id, is_detail = 1 });
    var cerTkLink = SecurityHelper.GenerateSecureLink("JobSeeker", "Certificates", new { id = Model.job_seeker_id, is_detail = 1 });
}

@Html.Partial("_Notifications")

@Html.Partial("../Widgets/Modals/_LargeModal")

<!--begin::Portlet-->
<div class="m-portlet detail-content">
    <div class="m-portlet__head">
        <div class="m-portlet__head-caption">
            <div class="m-portlet__head-title">
                <h3 class="m-portlet__head-text">
                    <i class="fa fa-info-circle fz-20 pl5"></i> @title
                </h3>
            </div>
        </div>
    </div>
    <!--begin::Form-->
    <input type="hidden" value="@profileTkLink" id="ProfileTk" />
    <input type="hidden" value="@eduTkLink" id="EduHistoryTk" />
    <input type="hidden" value="@workTkLink" id="WorkHistoryTk" />
    <input type="hidden" value="@cerTkLink" id="CertificateTk" />
    <div class="m-portlet__body">

        <!--begin::Section-->
        <div class="m-accordion m-accordion--default m-accordion--toggle-arrow" id="m_profile" role="tablist">
            <!--begin::Item-->
            <div class="m-accordion__item m-accordion__item--info">
                <div class="m-accordion__item-head collapsed" role="tab" id="m_profile_head" data-toggle="collapse" href="#m_profile_body" aria-expanded="false">
                    <span class="m-accordion__item-icon">
                        <i class="la la-user"></i>
                    </span>
                    <span class="m-accordion__item-title">
                        @ManagerResource.LB_PROFILE
                    </span>
                    <span class="m-accordion__item-mode"></span>
                </div>
                <div class="m-accordion__item-body collapse @(Model.hide_pf == 0 ? "show" : "")" id="m_profile_body" role="tabpanel" aria-labelledby="m_profile_head" data-parent="#m_profile">
                    <div class="m-accordion__item-content">
                        <div id="MemberSubContainer">

                        </div>
                    </div>
                </div>
            </div>
            <!--end::Item-->
        </div>
        <!--end::Section-->
        <!--begin::Section-->
        <div class="m-accordion m-accordion--default m-accordion--toggle-arrow" id="m_edu_history" role="tablist">
            <!--begin::Item-->
            <div class="m-accordion__item m-accordion__item--info">
                <div class="m-accordion__item-head collapsed" role="tab" id="m_edu_history_head" data-toggle="collapse" href="#m_edu_history_body" aria-expanded="false">
                    <span class="m-accordion__item-icon">
                        <i class="la la-graduation-cap"></i>
                    </span>
                    <span class="m-accordion__item-title">
                        @ManagerResource.LB_EDUCATION_HISTORY
                    </span>
                    <span class="m-accordion__item-mode"></span>
                </div>

                <div class="m-accordion__item-body collapse show" id="m_edu_history_body" role="tabpanel" aria-labelledby="m_edu_history_head" data-parent="#m_edu_history">
                    <div class="m-accordion__item-content">
                        <div class="" id="EduHistories">

                        </div>
                    </div>
                </div>
            </div>
            <!--end::Item-->
        </div>
        <!--end::Section-->
        <!--begin::Section-->
        <div class="m-accordion m-accordion--default m-accordion--toggle-arrow" id="m_work_history" role="tablist">
            <!--begin::Item-->
            <div class="m-accordion__item m-accordion__item--info">
                <div class="m-accordion__item-head collapsed" role="tab" id="m_work_history_head" data-toggle="collapse" href="#m_work_history_body" aria-expanded="false">
                    <span class="m-accordion__item-icon">
                        <i class="la la-train"></i>
                    </span>
                    <span class="m-accordion__item-title">
                        @ManagerResource.LB_WORKING_EXPERIENCE
                    </span>
                    <span class="m-accordion__item-mode"></span>
                </div>

                <div class="m-accordion__item-body collapse show" id="m_work_history_body" role="tabpanel" aria-labelledby="m_work_history_head" data-parent="#m_work_history">
                    <div class="m-accordion__item-content">
                        <div class="" id="WorkHistories">

                        </div>
                    </div>
                </div>
            </div>
            <!--end::Item-->
        </div>
        <!--end::Section-->
        <!--begin::Section-->
        <div class="m-accordion m-accordion--default m-accordion--toggle-arrow" id="m_certificate" role="tablist">
            <!--begin::Item-->
            <div class="m-accordion__item m-accordion__item--info">
                <div class="m-accordion__item-head collapsed" role="tab" id="m_certificate_head" data-toggle="collapse" href="#m_certificate_body" aria-expanded="false">
                    <span class="m-accordion__item-icon">
                        <i class="la la-certificate"></i>
                    </span>
                    <span class="m-accordion__item-title">
                        @ManagerResource.LB_CERTIFICATE
                    </span>
                    <span class="m-accordion__item-mode"></span>
                </div>

                <div class="m-accordion__item-body collapse show" id="m_certificate_body" role="tabpanel" aria-labelledby="m_certificate_head" data-parent="#m_certificate">
                    <div class="m-accordion__item-content">
                        <div class="" id="Certificates">

                        </div>
                    </div>
                </div>
            </div>
            <!--end::Item-->
        </div>
        <!--end::Section-->

        <div class="row" id="">
            <div class="col-lg-12 col-md-12 col-sm-12">
                @{
                    var editLink = SecurityHelper.GenerateSecureLink("JobSeeker", "Update", new { id = Model.Id, hide_pf = 0 });
                }
                <a class="btn btn-outline-info btn-back btn-sm" href="@Url.Action("Index", "JobSeeker", new { type_job_seeker = 1 })"><i class="fa fa-backward"></i> @ManagerResource.LB_GOBACK</a>

                <a class="btn btn-warning btn-sm" href="@editLink"> <i class="la la-pencil"></i>&nbsp;@ManagerResource.LB_EDIT</a>
                @*<button type="submit" class="btn btn-outline-info pull-right">
                        <i class="fa fa-floppy-o"></i> @ManagerResource.LB_SAVE
                    </button>*@
            </div>
        </div>
    </div>

    <!--end::Form-->
</div>
<!--end::Portlet-->

@section PagePluginStyles
{
    <link href="@Url.VersionedContent("~/Content/Page/JobSeeker/main.css")" rel="stylesheet" />
}

@section PagePluginScripts
 {
    <script src="@Url.VersionedContent("~/Scripts/JobSeeker/update.js")"></script>
    <script>
        $(function () {
            showItemLoading("#MemberSubContainer");
            setTimeout(function () {
                var url_tk = $("#ProfileTk").val();
                $('#MemberSubContainer').load(url_tk, function (response, status, xhr) {
                    hideItemLoading("#MemberSubContainer");
                    $("#btnControls").removeClass("hidden");
                });
            }, 300);
        });
    </script>
}