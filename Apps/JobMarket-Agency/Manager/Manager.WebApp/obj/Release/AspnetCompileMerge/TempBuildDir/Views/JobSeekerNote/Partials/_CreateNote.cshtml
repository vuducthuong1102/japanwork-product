@using Manager.WebApp.Resources
@using Manager.WebApp.Caching
@model Manager.WebApp.Models.ManageJobSeekerNoteModel

<div class="modal-header">
    <h5 class="modal-title" id="exampleModalLabel">
        @ManagerResource.LB_ADD_NEW
    </h5>
    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
        <span aria-hidden="true">
            &times;
        </span>
    </button>
</div>

@using (Html.BeginForm("CreateNote", "JobSeekerNote", FormMethod.Post, new { @enctype = "multipart/form-data",@onkeydown="return event.key !='Enter';"}))
{
    var typeList = JobSeekerNoteTypeProvider.GetListJobSeekerNoteType();
    <div class="modal-body">
        <div class="form-group">
            @Html.AntiForgeryToken()
            @Html.HiddenFor(m => m.job_seeker_id)
            @Html.HiddenFor(m => m.type_job_seeker)
            @Html.HiddenFor(m => m.controller_name)
            @Html.HiddenFor(m => m.action_name)
            @Html.HiddenFor(m => m.tk)
            <div class="form-group m-form__group row">
                <label class="col-form-label col-lg-3 col-sm-12">
                    @ManagerResource.LB_CONTACT_FORM
                </label>
                <div class="col-lg-4 col-md-9 col-sm-12">
                    <select id="@Html.IdFor(m=>m.type)" name="@Html.NameFor(m=>m.type)" class="form-control selectpicker">
                        @foreach (var item in typeList)
                        {
                            <option value="@item.id">
                                @item.TypeName
                            </option>
                        }
                    </select>
                </div>
            </div>
            <div class="form-group m-form__group row">
                <label class="col-form-label col-lg-3 col-sm-12">
                    @ManagerResource.LB_CONTENT
                </label>
                <div class="col-lg-9 col-md-9 col-sm-12">
                    <div class="input-group">
                        @Html.TextAreaFor(m => m.note, new { @class = "form-control", rows = "4" })
                        @Html.ValidationMessageFor(m => m.note, "", new { @class = "m--font-danger" })
                    </div>
                </div>
            </div>
        </div>

    </div>
    <div class="modal-footer">
        <button type="submit" class="btn btn-info">
            @ManagerResource.LB_SAVE
        </button>
        <button type="button" class="btn btn-secondary" onclick="ShowNote(@Model.job_seeker_id)">
            @ManagerResource.LB_CANCEL
        </button>
    </div>
}
<script>
    $(".selectpicker").selectpicker();
</script>
<script src="~/Scripts/jquery.validate.min.js"></script>
<script src="~/Scripts/jquery.validate.unobtrusive.min.js"></script>
